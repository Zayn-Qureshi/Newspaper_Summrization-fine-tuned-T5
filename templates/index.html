<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>NewsDigest — Article Summarizer</title>

    <style>
      /* ------------------  THEME  ------------------ */
      :root{
        --bg:#eef3f8;
        --glass:rgba(255,255,255,0.55);
        --glass-border:rgba(255,255,255,0.35);
        --text:#0b2545;
        --muted:#58718a;
        --primary:#0a6fb7;
        --stroke:#dfe8f2;
        --ring:rgba(10,111,183,.20);
      }

      *{box-sizing:border-box;}
      body{
        margin:0;
        font-family:system-ui,-apple-system,Segoe UI,Roboto;
        background:linear-gradient(180deg,#dfe8f3,#f6f9fc);
        color:var(--text);
      }

      /* ------------------  NAVBAR  ------------------ */
      header.site{
        position:sticky;top:0;z-index:10;
        background:var(--glass);
        backdrop-filter:blur(12px);
        border-bottom:1px solid var(--glass-border);
      }
      .site-inner{
        max-width:1120px;margin:0 auto;
        display:flex;align-items:center;justify-content:space-between;
        padding:14px 20px;
      }

      .brand{
        display:flex;align-items:center;gap:10px;
        font-size:20px;font-weight:800;
        letter-spacing:.5px;
        color:var(--text);
        cursor:pointer;
      }
      .brand .dot{
        width:22px;height:22px;border-radius:50%;
        background:linear-gradient(135deg,#0a6fb7,#85c7ff);
        box-shadow:0 0 10px rgba(10,111,183,.4);
      }

      nav a{
        color:var(--text);
        text-decoration:none;
        margin-left:18px;
        padding:8px 12px;
        font-weight:600;
        border-radius:8px;
        transition:.25s;
      }
      nav a:hover{
        background:rgba(255,255,255,.35);
        backdrop-filter:blur(6px);
      }

      /* ------------------  TOP WELCOME SECTION  ------------------ */
      .welcome{
        text-align:center;
        padding:60px 20px 30px;
        max-width:900px;
        margin:0 auto;
      }
      .welcome h1{
        font-size:42px;
        margin:0;
        background:linear-gradient(135deg,#0a6fb7,#1bb2ff);
        -webkit-background-clip:text;
        -webkit-text-fill-color:transparent;
        font-weight:900;
        letter-spacing:.5px;
      }
      .welcome p{
        margin:12px auto 0;
        max-width:650px;
        color:var(--muted);
        font-size:18px;
        line-height:1.6;
      }

      /* ------------------  MAIN HERO  ------------------ */
      .hero{
        max-width:1120px;
        margin:20px auto 14px;
        padding:0 16px;
        text-align:center;
      }
      .hero h2{
        margin:0 0 8px;
        font-size:28px;
        letter-spacing:.3px;
      }
      .hero p{margin:0;color:var(--muted);font-size:15px;}

      /* ------------------  WORKSPACE  ------------------ */
      .workspace{
        max-width:1120px;margin:14px auto 26px;padding:0 16px;
        display:grid;grid-template-columns:1.1fr .9fr;gap:18px;
      }
      @media(max-width:980px){.workspace{grid-template-columns:1fr;}}

      /* ------------------  CARDS (Glassmorphism) ------------------ */
      .card{
        background:var(--glass);
        border:1px solid var(--glass-border);
        border-radius:18px;
        backdrop-filter:blur(16px);
        box-shadow:
          inset 0 0 30px rgba(255,255,255,0.25),
          0 10px 35px rgba(5,35,75,.08);
      }
      .pane{padding:22px;}
      .pane h2{margin:0 0 10px;font-size:20px;}
      .hint{color:var(--muted);font-size:13px;margin:0 0 12px;}

      label{font-weight:600;margin-bottom:6px;display:block;}

      textarea{
        width:100%;min-height:220px;font-size:14px;line-height:1.6;
        padding:12px 14px;border-radius:12px;resize:vertical;
        border:1px solid var(--stroke);
        background:rgba(255,255,255,0.9);
        outline:none;
      }
      textarea:focus{
        border-color:var(--primary);
        box-shadow:0 0 0 4px var(--ring);
      }

      .row{display:flex;gap:12px;align-items:center;flex-wrap:wrap;margin-top:14px;}

      .btn{
        background:var(--primary);color:#fff;border:none;
        padding:10px 18px;border-radius:12px;cursor:pointer;
        font-weight:700;letter-spacing:.2px;
        box-shadow:0 6px 16px rgba(10,111,183,.25);
        transition:.25s;
      }
      .btn:hover{transform:translateY(-2px);}
      .btn:disabled{opacity:.6;cursor:not-allowed;}
      .btn.secondary{background:#0b274b;}
      .btn.ghost{
        background:rgba(255,255,255,.55);
        color:var(--text);
        border:1px solid var(--glass-border);
        backdrop-filter:blur(6px);
      }

      .stat{color:var(--muted);font-size:12px;margin-left:auto;}

      .summary{padding:14px;border-top:1px solid var(--glass-border);}
      .summary h3{margin:0 0 8px;font-size:16px;}
      .result{white-space:pre-wrap;line-height:1.7;}

      footer{
        padding:30px 16px;color:var(--muted);
        text-align:center;
        border-top:1px solid var(--glass-border);
        margin-top:40px;
      }
    </style>
  </head>

  <body>

    <!-- NAVBAR -->
    <header class="site">
      <div class="site-inner">
        <div class="brand"><span class="dot"></span> NewsDigest</div>
        <nav>
          <a href="#">Docs</a>
          <a href="#">About</a>
          <a href="#">Contact</a>
        </nav>
      </div>
    </header>

    <!-- TOP WELCOME SECTION -->
    <section class="welcome">
      <h1>Welcome to NewsDigest</h1>
      <p>Your intelligent AI-powered tool for turning long, heavy articles into clean, concise, high-quality summaries in seconds.</p>
    </section>

    <!-- EXISTING HERO -->
    <section class="hero">
      <h2>Summarize news articles instantly</h2>
      <p>Paste a story or report; our T5-based model generates a concise, readable brief.</p>
    </section>

    <!-- WORKSPACE (UNCHANGED STRUCTURE) -->
    <section class="workspace">

      <div class="card pane">
        <h2>Input</h2>
        <p class="hint">Paste article text below. You can edit before summarizing.</p>

        <form method="post" id="sum_form" enctype="multipart/form-data">
          <label for="input_text">Article text</label>
          <textarea id="input_text" name="input_text" placeholder="Paste or type the article here...">{{ input_text }}</textarea>

          <label for="pdf_file">Upload PDF</label>
          <input type="file" id="pdf_file" name="pdf_file" accept=".pdf">

          <div class="row">
            <button class="btn" id="do_sum" type="submit">Summarize</button>
            <button class="btn ghost" id="sample_btn" type="button">Use sample</button>
            <button class="btn secondary" id="clear_btn" type="button">Clear</button>
            <span class="stat" id="stat">0 chars • 0 words</span>
          </div>
        </form>
      </div>

      <div class="card pane">
        <h2>Summary</h2>

        {% if summary %}
        <div class="summary">
          <h3>Model output</h3>
          <div class="result">{{ summary }}</div>
        </div>
        {% else %}
        <p class="hint">Your summary will appear here after submission.</p>
        {% endif %}
      </div>
    </section>

    <footer>© NewsDigest. All rights reserved.</footer>

    <script>
      (function(){
        var t = document.getElementById('input_text');
        var stat = document.getElementById('stat');
        var clearBtn = document.getElementById('clear_btn');
        var sampleBtn = document.getElementById('sample_btn');
        var form = document.getElementById('sum_form');
        var btn = document.getElementById('do_sum');

        function update(){
          if(!t||!stat) return;
          var s=t.value||'';
          var w=s.trim()? s.trim().split(/\s+/).length:0;
          stat.textContent = s.length+' chars • '+w+' words';
        }

        if(t){ t.addEventListener('input',update); update(); }
        if(clearBtn && t){ clearBtn.addEventListener('click', function(){ t.value=''; update(); t.focus(); }); }
        if(sampleBtn && t){ sampleBtn.addEventListener('click', function(){ t.value='The central bank raised interest rates by 25 basis points amid persistent inflation pressures, while signaling a possible pause if price growth continues to cool in the coming months, according to the post-meeting statement.'; update(); }); }
        if(form && btn){ form.addEventListener('submit', function(){ btn.disabled=true; btn.textContent='Summarizing…'; }); }
      })();
    </script>

  </body>
</html>
